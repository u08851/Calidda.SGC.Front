<form [formGroup]="userForm" autocomplete="offs">
    <div class="p-fluid p-formgrid p-grid form-input-sm p-mb-3">
        <div class="p-field p-col-12 p-d-flex p-jc-between">
            <div class="p-d-flex">
                <p-badge [value]="1" severity="info" styleClass="p-mr-2"></p-badge>
                <label class="color-primary">Sobre la Empresa</label>
            </div>

            <div class="p-d-flex p-ai-center">
                <!-- variables:  --red --green --info  -->
                <i *ngIf="checked == true" class="pi pi-circle-on p-mr-2 p-mt-1 fz-8" [style.color]="'var(--green)'"></i>
                <i *ngIf="checked != true" class="pi pi-circle-on p-mr-2 p-mt-1 fz-8" [style.color]="'var(--red)'"></i>
                <label *ngIf="checked == true" class="p-mr-2">Activo</label>
                <label *ngIf="checked != true" class="p-mr-2">Desactivo</label>
                <p-inputSwitch [(ngModel)]="checked" formControlName="statusId"></p-inputSwitch>
            </div>
        </div>
        <div class="p-field p-col-12 p-md-6">
            <label for="empresaId" [ngClass]="{ 'is-invalid-text': submitted && g.empresaId.errors }">Empresa</label>
            <p-dropdown formControlName="empresaId" [ngClass]="{ 'p-error': submitted && g.empresaId.errors }" oninput="this.value=this.value.trim()==''?'':this.value" [options]="dataEmpresa" [(ngModel)]="selectedEmpresa" optionLabel="nombre" optionDisabled="inactive">
                <ng-template pTemplate="selectedItem">
                    
                        
                        <span class="p-ml-2" style="line-height: 0; margin-bottom: 5px;">{{selectedEmpresa.nombre}}</span>
                   
                </ng-template>
            </p-dropdown>
            <div *ngIf="submitted && g.empresaId.errors != null">
                <span class="p-error" *ngIf="g.empresaId.errors.required">La empresa es requerido.<br></span>
            </div>
        </div>
        <div class="p-field p-col-12 p-md-6">
            <label for="paisId" [ngClass]="{ 'is-invalid-text': submitted && g.paisId.errors }">Pais</label>
            <p-dropdown formControlName="paisId" [ngClass]="{ 'is-invalid-input': submitted && g.paisId.errors }" oninput="this.value=this.value.trim()==''?'':this.value" [options]="countries" [(ngModel)]="selectedCountry" optionLabel="nombre" [showClear]="false"
                placeholder="" dropdownIcon="">
                <ng-template pTemplate="selectedItem">
                    <div class="p-d-flex p-ai-center">
                        <img style="width: 20px;" [src]="selectedCountry.sigla" />
                        <!-- <span class="p-ml-2" style="line-height: 0; margin-bottom: 5px;">{{selectedCountry.name}}</span> -->
                        <span class="p-ml-2" style="line-height: 0; margin-bottom: 5px;">{{selectedCountry.nombre}}</span>
                    </div>
                </ng-template>
                <ng-template let-country pTemplate="item">
                    <div class="p-d-flex p-ai-center">
                        <img style="width: 20px;" [src]="country.sigla" />
                        <span class="p-ml-2" style="line-height: 0; margin-bottom: 5px;">{{country.nombre}}</span>
                    </div>
                </ng-template>
            </p-dropdown>
            <div *ngIf="submitted && g.paisId.errors != null">
                <span class="p-error" *ngIf="g.paisId.errors.required">El pais es requerido.<br></span>
            </div>
        </div>

        <div class="p-field p-col-12 p-md-6">
            <div class="p-d-flex">
                <p-badge [value]="1" severity="info" styleClass="p-mr-2"></p-badge>
                <label class="color-primary">Datos Personales</label>
            </div>
        </div>

        <div class="p-field p-col-12 p-md-12">
            <label for="nombre" [ngClass]="{ 'is-invalid-text': submitted && g.nombre.errors }">Nombres y apellidos</label>
            <div class="p-inputgroup">
                <span class="p-inputgroup-addon">
                    <p-avatar image="assets/images/img-perfil-test.jpg" styleClass="p-mr-2" shape="circle">
                    </p-avatar>
                </span>
                <input formControlName="nombre" [ngClass]="{ 'is-invalid-input': submitted && g.nombre.errors }" oninput="this.value=this.value.trim()==''?'':this.value" class="p-bl-0 bl-0" type="text" pInputText placeholder="Username">
            </div>
            <div *ngIf="submitted && g.nombre.errors != null">
                <span class="p-error" *ngIf="g.nombre.errors.minlength">El nombre debe contener al menos un carácter.<br></span>
                <span class="p-error" *ngIf="g.nombre.errors.required">El nombre es requerido.<br></span>
            </div>
            <!-- <input type="text" pInputText> -->
        </div>
        <div class="p-field p-col-12 p-md-12">
            <label for="correo" [ngClass]="{ 'is-invalid-text': submitted && g.correo.errors }">Correo Electronico ss</label>
            <input formControlName="correo" [ngClass]="{ 'is-invalid-input': submitted && g.correo.errors }" oninput="this.value=this.value.trim()==''?'':this.value" type="text" pInputText>
            <div *ngIf="submitted && g.correo.errors != null">
                <span class="p-error" *ngIf="g.correo.errors.minlength">El correo debe contener al menos un carácter.<br></span>
                <span class="p-error" *ngIf="g.correo.errors.required">El correo es requerido.<br></span>
            </div>
        </div>


        <div class="p-field p-col-12 p-md-6">
            <label for="celular" [ngClass]="{ 'is-invalid-text': submitted && g.celular.errors }">Celular</label>
            <input formControlName="celular" [ngClass]="{ 'is-invalid-input': submitted && g.celular.errors }" oninput="this.value=this.value.trim()==''?'':this.value" maxlength="9" type="text" pInputText>
            <div *ngIf="submitted && g.celular.errors != null">
                <span class="p-error" *ngIf="g.celular.errors.minlength">El celular debe contener al menos 9 carácteres.<br></span>
                <span class="p-error" *ngIf="g.celular.errors.required">El celular es requerido.<br></span>
            </div>
        </div>
        <div class="p-field p-col-12 p-md-6">
            <label for="rolId" [ngClass]="{ 'is-invalid-text': submitted && g.rolId.errors }">Rol</label>
            <p-dropdown formControlName="rolId" [options]="dataRol" [(ngModel)]="selectedRol" optionLabel="nombre" optionDisabled="inactive">
                <ng-template pTemplate="selectedItem">
                    
                        
                    <span class="p-ml-2" style="line-height: 0; margin-bottom: 5px;">{{selectedRol.nombre}}</span>
               
            </ng-template>
            </p-dropdown>
        </div>

        <div class="p-field p-col-12 p-md-6">
            <label for="dni" [ngClass]="{ 'is-invalid-text': submitted && g.dni.errors }">DNI</label>
            <input formControlName="dni" [ngClass]="{ 'is-invalid-input': submitted && g.dni.errors }" oninput="this.value=this.value.trim()==''?'':this.value" maxlength="8" type="text" pInputText>
            <div *ngIf="submitted && g.dni.errors != null">
                <span class="p-error" *ngIf="g.dni.errors.minlength">El DNI debe contener al menos 8 carácteres.<br></span>
                <span class="p-error" *ngIf="g.dni.errors.required">El DNI es requerido.<br></span>
            </div>
        </div>
    </div>

    <div class="p-d-flex p-jc-center w-100 p-mb-3">
        <button (click)="showModalDialog();" pButton type="button" label="Crear"></button>
    </div>
</form>

<!-- Dialog Crear content -->
<p-dialog [(visible)]="displayModal" [modal]="true" [style]="{ width: '400px' }" [baseZIndex]="10000"
    [draggable]="false" [resizable]="false" [closable]="false" styleClass="style-dialog-confirmation">
    <div class="dialog-content">
        <i class="material-icons"> check_circle_outline </i>
        <h3>Confirmación</h3>
        <p class="p-m-0">
            El comité <strong>“Comité Cálidda”</strong> ha sido creado correctamente
        </p>
    </div>
    <ng-template pTemplate="footer">
        <p-button (click)="eventClose()" label="Ir a mis comités"></p-button>
    </ng-template>
</p-dialog>